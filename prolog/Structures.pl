


% Lista de estruturas especiais.
spcShips(
    [
    ["Glider - cells=5", [['#', ' ', ' '], [' ', '#', '#'], ['#', '#', ' ']]],
    ["Lightwight Spaceship - cells=9", [[' ', ' ', '#', '#', ' '], ['#', '#', ' ', '#', '#'], ['#', '#', '#', '#', ' '], [' ', '#', '#', ' ', ' ']]],
    ["Tsunami - cells=25", [[' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ', '#', ' ', ' ', ' ',' ', ' '], [' ', ' ', ' ', ' ', '#', '#', ' ', '#', ' ', '#', '#', ' ', '#', '#', '#', ' '], [' ', '#', '#', '#', '#', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#'], ['#', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', '#', ' ', ' ', ' ', '#', '#', ' '], [' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]],
    ["Loafer - cells=20", [[' ', '#', '#', '#', ' ', ' ', '#', ' ', '#'], ['#', ' ', ' ', '#', '#', ' ', '#', ' ', '#'], [' ', '#', ' ', '#', '#', ' ', ' ', '#', ' '], [' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#'], [' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#'], [' ', ' ', ' ', ' ', ' ', '#', ' ', ' ', '#'], [' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' '], [' ', ' ', ' ', ' ', ' ', ' ', '#', '#', ' ']]],
    ["Copper head - cells=28", [[' ', ' ', '#', '#', '#', '#', ' ', ' '], [' ', ' ', '#', ' ', ' ', '#', ' ', ' '], [' ', '#', '#', '#', '#', '#', '#', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], ['#', ' ', ' ', '#', '#', ' ', ' ', '#'], ['#', ' ', '#', '#', '#', '#', ' ', '#'], ['#', ' ', '#', ' ', ' ', '#', ' ', '#'], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', '#', '#', ' ', ' ', ' '], [' ', ' ', ' ', '#', '#', ' ', ' ', ' ']]],
    ["Weekender - cells=36", [[' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' '], [' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' '], ['#', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', '#'], [' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' '], [' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' '], [' ', ' ', '#', ' ', ' ',' ' ,' ', '#', '#', '#', '#', ' ', ' ', ' ', '#', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', '#', '#', '#', '#', ' ', ' ', ' ', ' ', '#', '#', '#', '#', ' ', ' '], [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '], [' ', ' ', ' ', ' ', '#', ' ', ' ', ' ', ' ', ' ', ' ', '#', ' ', ' ',' ', ' '], [' ', ' ', ' ', ' ', ' ', '#', '#', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]],
    ["Special Spaceship", 
    [
    ['#', '#', '#', ' ', '#', ' ', ' ', '#', ' ', '#', '#', '#', ' ', '#', '#', '#', '#', ' ', '#', '#', '#', ' ', '#', '#', '#', ' ', '#', ' ', ' ', '#'],
    ['#', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', '#', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', ' ', '#', ' ', ' ', '#', ' ', '#', ' ', '#', '#', ' ', '#'],
    ['#', '#', '#', ' ', '#', ' ', ' ', '#', ' ', '#', '#', ' ', ' ', '#', '#', '#', '#', ' ', ' ', '#', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', '#', '#'],
    ['#', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', '#', ' ', ' ', ' ', '#', '#', ' ', ' ', ' ', ' ', '#', ' ', ' ', '#', ' ', '#', ' ', '#', ' ', ' ', '#'],
    ['#', '#', '#', ' ', ' ', '#', '#', ' ', ' ', '#', '#', '#', ' ', '#', ' ', '#', '#', ' ', ' ', '#', ' ', ' ', '#', '#', '#', ' ', '#', ' ', ' ', '#']]]
    ]
    ).


% Função que retorna uma estrutura e seu nome.
getShip(ID, Spc) :- spcShips(Ships), nth0(ID, Ships, Spc).  

    

% Função que insere uma estrutura especial em uma determinada coordenada do tabuleiro.
insertSpaceShip(Mx, Id, Height, Width, R) :- 
    spcShips(ShipList),
    length(ShipList, L),
    Indice is Id -1,
    getShip(Indice, [_, Structure]),
    
    Id > 0, Id =< L, Width >= 0, Height >= 0,

    insertRecursivo(Mx, Height, Width, Structure, 0, 0, R).

insertSpaceShip(Mx, _, _, _, Mx).




% insertRecursivo(Mx, _, _, _, _, Y, _, []) :- length(Mx, Y).

% insertRecursivo(Mx, Height, Width, Structure, Y, X, [H|T]) :-
%     insertRecursivoRow(Mx, Height, Width, Structure, Y, X, H),
%     K is Y + 1,
%     insertRecursivo(Mx, Height, Width, Structure, K, 0, T).



% insertRecursivoRow(Mx, _, _, _, _, _, X, []) :- nth0(0, Mx, R), length(R, X).

% insertRecursivoRow(Mx, Height, Width, Structure, Y, X, [H|T]) :-
%     Difx is X - Width,
%     Dify is Y - Height,
%     nth0(1, Structure, S1),
%     length(S1, Ls1),
%     lenght(Structure, Ls),
%     nth0(Dify, Structure, Rt),
%     nth0(Difx, Rt, T),
%     nth0(Y, Mx, Rm),
%     nth0(X, Rm, M),
    
%     (X >= Width, Y >=  Height, Difx < Ls1, Dify < Ls -> H is T; H is M),

%     K is X + 1,
%     insertRecursivoRow(Mx, Height, Width, Structure, Y, K, T).